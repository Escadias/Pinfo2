# Contient les instructions pour lancer la configuration docker pour la webapp.

version: "3"
services:
    appserver:
        build: "wildfly-pinfo2"
        image: "wildfly-pinfo2"
        volumes:
            - "/tmp/docker-deploy/deployments:/opt/jboss/wildfly/standalone/deployments/"
        ports:
            - "8080:8080"
            - "9990:9990"
            - "8787:8787"
        depends_on:
            - "database"
        restart: always
    database:
        build: "mariadb-pinfo2"
        image: "mariadb-pinfo2"
        environment:
            MYSQL_ROOT_PASSWORD: "admin"
            MYSQL_DATABASE: "meskyne"
        ports:
            - "3306:3306"
        volumes:
            - "/tmp/docker-deploy/database:/var/lib/mysql"
        restart: always
